<!doctype html><html dir=rtl lang=fa><head><title>ุชูุธู Docker ุจุฑุง ู ูุจโุงูพ Node.js | ุงvar</title>
<meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="ูุฏู ุงู ููุดุชู ูุนุฑู ู ูุซุงูู ุจุฑุง ุงู ฺฉู ฺุฌูุฑ ู ุงูพูฺฉุดู
Node.js
ุฑู ุจู ู ฺฉุงูุชูุฑ
Docker
ุชุจุฏู ฺฉู. ุงู ุฑุงูููุง ุจุฑุง ุฒูุงู ุชูุณุนู ุงูพ ูุณุช ู ูู ุจุฑุง
ุงุณุชูุฑุงุฑ ุงูพ ุจุฑุง
production.
ููฺูู ูุฑุถ ูฺฉูู ฺฉู ู
ูุณุฎูโ ูุตุจ ุดุฏู ุงุฒ ุฏุงฺฉุฑ
ุฑู ุณุณุชูุช ูุณุช ู ู ุฏุงูุด ุงุจุชุฏุง ุงุฒ ุณุงุฎุชุงุฑ ู ุงูพูฺฉุดู
Node.js
ุฏุงุฑ."><meta name=generator content="Hugo 0.124.1"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><meta name=author content="ุญูุฏุฑุถุง ููุฏู ูพูุงู"><meta name=keywords content="web app,ุฏุงฺฉุฑ,ููุฏ ุฌโุงุณ,node.js,docker"><link href=https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@v28.0.0/dist/font-face.css rel=stylesheet type=text/css><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=http://yavarjs.ir/css/custom.css><link rel="shortcut icon" href=/images/favicon.ico type=image/x-icon><script async src="https://www.googletagmanager.com/gtag/js?id=G-TB5X9PJPXB"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-TB5X9PJPXB",{anonymize_ip:!1})}</script></head><body><nav class=navigation><a href=/>ุฎุงูู <span class=arrow>โ</span></a>
<a href=/tags>ุจุฑฺุณุจโูุง</a>
<a href=/about>ุฏุฑุจุงุฑู ุงvar</a></nav><main class=main><section id=single><h1 class=title>ุชูุธู Docker ุจุฑุง ู ูุจโุงูพ Node.js</h1><div class=tip><span>ุญูุฏุฑุถุง ููุฏู ูพูุงู
</span><span class=split>ยท
</span><span>ุฎูุงูุฏู 5 ุฏููู
</span><span class=split>ยท
</span><span>1037 ฺฉููู
</span><span class=split>ยท
</span><span>ฑดฐฐ/ฒ/น</span></div><aside class=toc><details><summary>ููุฑุณุช</summary><div><nav id=TableOfContents><ul><li><a href=#ุณุงุฎุช-ุงูพ-nodejs>ุณุงุฎุช ุงูพ Node.js</a></li><li><a href=#ุงุฌุงุฏ-ู-dockerfile>ุงุฌุงุฏ ู Dockerfile</a></li><li><a href=#ูุงู-dockerignore>ูุงู dockerignore.</a></li><li><a href=#ุณุงุฎุช-image>ุณุงุฎุช image</a></li><li><a href=#ุงุฌุฑุง-image>ุงุฌุฑุง image</a></li><li><a href=#ุชุณุช>ุชุณุช</a></li></ul></nav></div></details></aside><div class=content><p>ูุฏู ุงู ููุดุชู ูุนุฑู ู ูุซุงูู ุจุฑุง ุงู ฺฉู ฺุฌูุฑ ู ุงูพูฺฉุดู
Node.js
ุฑู ุจู ู ฺฉุงูุชูุฑ
Docker
ุชุจุฏู ฺฉู. ุงู ุฑุงูููุง ุจุฑุง ุฒูุงู ุชูุณุนู ุงูพ ูุณุช ู ูู ุจุฑุง
ุงุณุชูุฑุงุฑ ุงูพ ุจุฑุง
production.
ููฺูู ูุฑุถ ูฺฉูู ฺฉู ู
<a href=https://docs.docker.com/engine/installation/ target=_blank rel=noopener>ูุณุฎูโ ูุตุจ ุดุฏู ุงุฒ ุฏุงฺฉุฑ</a>
ุฑู ุณุณุชูุช ูุณุช ู ู ุฏุงูุด ุงุจุชุฏุง ุงุฒ ุณุงุฎุชุงุฑ ู ุงูพูฺฉุดู
Node.js
ุฏุงุฑ.</p><p>ุฏุฑ ุจุฎุด ุงูู ุงู ุฑุงูููุง ู ูุจโุงูพูฺฉุดู ุณุงุฏู ุฑู ุจุง
Node.js
ูุณุงุฒ ู ุณูพุณ ู
image
ุฏุงฺฉุฑ ุจุฑุง ุงูู ุงูพูฺฉุดู ุฏุฑุณุช ูฺฉู ู ุฏุฑ ุขุฎุฑ ูู ู ฺฉุงูุชูุฑ ุฑู ุงุฒ ุฑู ุงูู
image
ุงุฌุฑุง ูฺฉู.</p><p>ุฏุงฺฉุฑ ุงู ุงูฺฉุงู ุฑู ุจูุช ูุฏู ฺฉู ู ุงูพูฺฉุดู ุฑู ุจุง ูุญุทุด
(environment)
ู ุชูุงู ูุงุจุณุชฺฏโูุงุด
(dependencies)
ุจู ู ุฌุนุจู ุชุจุฏู ฺฉู ฺฉู ุงุณูุด ูุณุช ยซฺฉุงูุชูุฑยป
(container).
ูุนูููุง ู ฺฉุงูุชูุฑ ุงุฒ ู ุงูพูฺฉุดู ุชุดฺฉู ุดุฏู ฺฉู ุฑู ู ุณุณุชูโุนุงูู ูููฺฉุณ ุฎู ุณุจฺฉ ู ุณุงุฏู ุฏุฑ ุญุงู ุงุฌุฑุงุณุช. ู
image
ู ููุดู ู ุทุฑุญ ุจุฑุง ฺฉุงูุชูุฑู ู ู ฺฉุงูุชูุฑ ู ููููู ุฏุฑ ุญุงู ุงุฌุฑุง ุงุฒ ู
image
ูุณุช.</p><h2 id=ุณุงุฎุช-ุงูพ-nodejs>ุณุงุฎุช ุงูพ Node.js <a href=#%d8%b3%d8%a7%d8%ae%d8%aa-%d8%a7%d9%be-nodejs class=anchor>๐</a></h2><p>ุฏุฑ ุงุจุชุฏุง ู ูููุฏุฑ ุจุณุงุฒ ฺฉู ุชูุงู ูุงููุง ูุฑุงุฑู ุงููุฌุง ุฒูุฏฺฏ ฺฉูู. ุชู ุงู ูููุฏุฑ ู ูุงู
<code>package.json</code>
ุจุณุงุฒ ฺฉู ุชูุถุญุงุชู ุฏุฑููุฑุฏ ุงูพ ู ูุงุจุณุชฺฏโูุงุด:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:navy>&#34;name&#34;</span>: <span style=color:#d14>&#34;docker_web_app&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:navy>&#34;version&#34;</span>: <span style=color:#d14>&#34;1.0.0&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:navy>&#34;description&#34;</span>: <span style=color:#d14>&#34;Node.js on Docker&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:navy>&#34;author&#34;</span>: <span style=color:#d14>&#34;First Last &lt;first.last@example.com&gt;&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:navy>&#34;main&#34;</span>: <span style=color:#d14>&#34;server.js&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:navy>&#34;scripts&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:navy>&#34;start&#34;</span>: <span style=color:#d14>&#34;node server.js&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:navy>&#34;dependencies&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:navy>&#34;express&#34;</span>: <span style=color:#d14>&#34;^4.16.1&#34;</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ุฏุณุชูุฑ
<code>npm install</code>
ุฑู ุงุฌุฑุง ฺฉู. ุงฺฏู ุงุฒ ูุณุฎูโ ต ุจู ุจุงูุง
<code>npm</code>
ุงุณุชูุงุฏู ูฺฉูุ ุงู ุฏุณุชูุฑ ู ูุงู
<code>package-lock.json</code>
ุฏุฑุณุช ูฺฉูู ฺฉู ุจุนุฏุง ฺฉูพ ูุดู ุจู
image
ุฏุงฺฉุฑุช.</p><p>ุณูพุณ ู ูุงู
<code>server.js</code>
ุจุณุงุฒ ฺฉู ู ูุจโุงูพ ุฑู ุดุงูู ูุดู ฺฉู ุงุฒ ูุฑููุฑฺฉ
<a href=https://expressjs.com/ target=_blank rel=noopener>Express.js</a>
ุงุณุชูุงุฏู ูฺฉูู:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#d14>&#34;use strict&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>const</span> express <span style=color:#000;font-weight:700>=</span> require(<span style=color:#d14>&#34;express&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#998;font-style:italic>// ููุงุฏุฑ ุซุงุจุช
</span></span></span><span style=display:flex><span><span style=color:#998;font-style:italic></span><span style=color:#000;font-weight:700>const</span> PORT <span style=color:#000;font-weight:700>=</span> <span style=color:#099>8080</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>const</span> HOST <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#34;0.0.0.0&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#998;font-style:italic>// ุงูพ
</span></span></span><span style=display:flex><span><span style=color:#998;font-style:italic></span><span style=color:#000;font-weight:700>const</span> app <span style=color:#000;font-weight:700>=</span> express()
</span></span><span style=display:flex><span>app.get(<span style=color:#d14>&#34;/&#34;</span>, (req, res) =&gt; {
</span></span><span style=display:flex><span>  res.send(<span style=color:#d14>&#34;Hello World&#34;</span>)
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>app.listen(PORT, HOST)
</span></span><span style=display:flex><span>console.log(<span style=color:#d14>`Running on http://</span><span style=color:#d14>${</span>HOST<span style=color:#d14>}</span><span style=color:#d14>:</span><span style=color:#d14>${</span>PORT<span style=color:#d14>}</span><span style=color:#d14>`</span>)
</span></span></code></pre></div><p>ุชู ูุฑุงุญู ุจุนุฏุ ูุจู ฺฉู ฺุฌูุฑ ูุชูู ุงู ุงูพ ุฑู ุจุง ุงุณุชูุงุฏู ุงุฒ ุงูุฌ ุฑุณู ุฏุงฺฉุฑุ ุฏุงุฎู ู ฺฉุงูุชูุฑ ุงุฌุฑุงุด ฺฉู. ุงูู ุงุฒ ููู ูุงุฒ ุฏุงุฑ ุชุง ู
Docker image
ุจุฑุง ุงูพูฺฉุดูุช ุจุณุงุฒ.</p><h2 id=ุงุฌุงุฏ-ู-dockerfile>ุงุฌุงุฏ ู Dockerfile <a href=#%d8%a7%db%8c%d8%ac%d8%a7%d8%af-%db%8c%d9%87-dockerfile class=anchor>๐</a></h2><p>ู ูุงู ุฎุงู ุจุณุงุฒ ฺฉู ุงุณูุด ูุณุช
<code>Dockerfile</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>touch Dockerfile
</span></span></code></pre></div><p>ุงู ูุงู ุฑู ุฏุงุฎู ุงุฏุชูุฑ ููุฑุฏ ุนูุงูุช ุจุงุฒ ฺฉู.</p><p>ุงููู ฺฉุงุฑ ุงูู ฺฉู ุจุจูู ุงุฒ ฺู ุงูุฌ ฺฉุงุฑููู ุฑู ุดุฑูุน ฺฉูู. ุงูุฌุง ุงุฒ ุขุฎุฑู ูุณุฎูโ ูพุดุชุจุงู ุจููุฏูุฏุช
(LTS)
ุงุณุชูุงุฏู ูฺฉูู ฺฉู ูุดู ูุณุฎูโ
โ<code>14</code>
ุงุฒ
<code>node</code>
ฺฉู ุฏุฑ ูุฎุฒู
<a href=https://hub.docker.com/_/node target=_blank rel=noopener>Docker Hub</a>
ููุฌูุฏู:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker><span style=display:flex><span><span style=color:#000;font-weight:700>FROM</span><span style=color:#d14> node:14</span><span style=color:#a61717;background-color:#e3d2d2>
</span></span></span></code></pre></div><p>ุณูพุณ ุชู ุงูุฌ ู ูููุฏุฑ ุจุณุงุฒ ฺฉู ุฏุงุฎูุด ฺฉุฏูุง ุงูพูฺฉุดู ุฑู ูุฑุงุฑ ุจุฏุ ุงู ูููุฏุฑ ูุฑุงุฑู ูููุฏุฑ ฺฉุงุฑ
(working directory)
ุจุฑุง ุงูพูฺฉุดูุช ุจุงุดู:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker><span style=display:flex><span><span style=color:#998;font-style:italic># ุฑู ุจุณุงุฒ app ุฏุงุฑฺฉุชูุฑ</span><span style=color:#a61717;background-color:#e3d2d2>
</span></span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2></span><span style=color:#000;font-weight:700>WORKDIR</span><span style=color:#d14> /usr/src/app</span><span style=color:#a61717;background-color:#e3d2d2>
</span></span></span></code></pre></div><p>ุงูุฌ
(node:14)
ุงุฒ ูุจู ุฏุงุฎูุด
Node.js
ู
NPM
ูุตุจ ุดุฏู ู ฺฉุงุฑ ุจุนุฏ ฺฉู ูุงุฒู ุจฺฉู ุงูู ฺฉู ูุงุจุณุชฺฏโูุง ุงูพูฺฉุดูุช ุฑู ุจุง
<code>npm</code>
ูุตุจ ฺฉู. ูุทูุง ุฏูุช ฺฉู ฺฉู ุงฺฏู ุฏุงุฑ ุงุฒ ูุณุฎูโ ด ุจู ูพุงู
<code>npm</code>
ุงุณุชูุงุฏู ูฺฉูุ ูุงู
<code>package-lock.json</code>
ุณุงุฎุชู
<em>ููุดู</em>.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker><span style=display:flex><span><span style=color:#998;font-style:italic># ูุงุจุณุชฺฏโูุง ุงูพ ุฑู ูุตุจ ฺฉู</span><span style=color:#a61717;background-color:#e3d2d2>
</span></span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2></span><span style=color:#998;font-style:italic># ุงุฒ ุนูุงูุช ุณุชุงุฑู ุงุณุชูุงุฏู ุดุฏู ุชุง ูู ูุงู ููู ู ูู ูุงู ุนุงุฏ ฺฉูพ ุจุดู</span><span style=color:#a61717;background-color:#e3d2d2>
</span></span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2></span><span style=color:#000;font-weight:700>COPY</span> package*.json ./<span style=color:#a61717;background-color:#e3d2d2>
</span></span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2>
</span></span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2></span><span style=color:#000;font-weight:700>RUN</span> npm install<span style=color:#a61717;background-color:#e3d2d2>
</span></span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2></span><span style=color:#998;font-style:italic># ุงฺฏู ุฏุงุฑ ุงูพูฺฉุดู ุฑู ุจุฑุง ูพุฑูุฏุงฺฉุดู ูุณุงุฒ ุงุฒ ุฏุณุชูุฑ ุฒุฑ ุงุณุชูุงุฏู ฺฉู</span><span style=color:#a61717;background-color:#e3d2d2>
</span></span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2></span><span style=color:#998;font-style:italic># RUN npm ci --only=production</span><span style=color:#a61717;background-color:#e3d2d2>
</span></span></span></code></pre></div><p>ุฏูุช ฺฉู ฺฉู ุจู ุฌุง ฺฉูพ ฺฉุฑุฏู ฺฉู ูููุฏุฑ ฺฉุงุฑูููุ ููุท ูุงู
<code>package.json</code>
ุฑู ฺฉูพ ฺฉุฑุฏู. ุงู ฺฉุงุฑ ุจูููู ุงุฌุงุฒู ูุฏู ุชุง ุงุฒ ูุฒุช ูุงูโูุง ูุงุจู ฺฉุด ุฏุฑ ุฏุงฺฉุฑ ุงุณุชูุงุฏู ฺฉูู
(<a href=http://bitjudo.com/blog/2014/03/13/building-efficient-dockerfiles-node-dot-js/ target=_blank rel=noopener>ุจุดุชุฑ ุจุฎูุงูุฏ</a>).
ุนูุงููโุจุฑ ุงูุ ูุฑูุงู
<code>npm ci</code>
ฺฉูฺฉ ูฺฉูู ฺฉู
build
ูุง ุณุฑุนุชุฑุ ูุงุจู ุงุชฺฉุงุชุฑ ู ูุงุจู ุชฺฉุซุฑ ุจุฑุง ูุญุทโูุง ูพุฑูุฏุงฺฉุดู ุจุณุงุฒู. ุฏุฑ ุงู ููุฑุฏ ูุชูู <a href=https://blog.npmjs.org/post/171556855892/introducing-npm-ci-for-faster-more-reliable target=_blank rel=noopener>ุงูุฌุง</a> ุจุดุชุฑ ุจุฎูู.</p><p>ุจุฑุง ุจุณุชูโุจูุฏ ฺฉุฑุฏู ุณูุฑุณโฺฉุฏูุง ุงูพ ุชู ุงูุฌ ุฏุงฺฉุฑุ ุงุฒ ุฏุณุชูุฑ
<code>COPY</code>
ุงุณุชูุงุฏู ฺฉู:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker><span style=display:flex><span><span style=color:#998;font-style:italic># ุณูุฑุณ ุงูพ ุฑู ุจุณุชูโุจูุฏ ฺฉู</span><span style=color:#a61717;background-color:#e3d2d2>
</span></span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2></span><span style=color:#000;font-weight:700>COPY</span> . .<span style=color:#a61717;background-color:#e3d2d2>
</span></span></span></code></pre></div><p>ุงูพูฺฉุดูุช ุฎูุฏุดู ุจู ูพูุฑุช
<code>8080</code>
ูฺุณุจูููุ ูพุณ ุงุฒ ุฏุณุชูุฑ
<code>EXPOSE</code>
ุงุณุชูุงุฏู ฺฉู ุชุง
ุฏุงฺฉุฑ ุงู ูพูุฑุช ุฑู ุจุฑุงุช ููพ ฺฉูู:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker><span style=display:flex><span><span style=color:#000;font-weight:700>EXPOSE</span><span style=color:#d14> 8080</span><span style=color:#a61717;background-color:#e3d2d2>
</span></span></span></code></pre></div><p>ุฏุฑ ุขุฎุฑุ ูุฑูุงู ฺฉู ุงูพูฺฉุดูุช ุฑู ุจู ุงุฌุฑุง ุฏุฑูุงุฑู ุจุง ุงุณุชูุงุฏู ุงุฒ
<code>CMD</code>
ุชุนุฑู ฺฉู. ุฏุฑ ุงูุฌุง ูุง ุงุฒ
โ<code>node server.js</code>
ุจุฑุง ุดุฑูุน ุณุฑูุฑ ุงุณุชูุงุฏู ูฺฉูู:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker><span style=display:flex><span><span style=color:#000;font-weight:700>CMD</span> [ <span style=color:#d14>&#34;node&#34;</span>, <span style=color:#d14>&#34;server.js&#34;</span> ]<span style=color:#a61717;background-color:#e3d2d2>
</span></span></span></code></pre></div><p>ูุงู
<code>dockerfile</code>
ุงูุงู ุจุงุฏ ุงูุดฺฉู ุจุงุดู:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker><span style=display:flex><span><span style=color:#000;font-weight:700>FROM</span><span style=color:#d14> node:14</span><span style=color:#a61717;background-color:#e3d2d2>
</span></span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2>
</span></span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2></span><span style=color:#998;font-style:italic># ุฑู ุจุณุงุฒ app ุฏุงุฑฺฉุชูุฑ</span><span style=color:#a61717;background-color:#e3d2d2>
</span></span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2></span><span style=color:#000;font-weight:700>WORKDIR</span><span style=color:#d14> /usr/src/app</span><span style=color:#a61717;background-color:#e3d2d2>
</span></span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2>
</span></span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2></span><span style=color:#998;font-style:italic># ูุงุจุณุชฺฏโูุง ุงูพ ุฑู ูุตุจ ฺฉู</span><span style=color:#a61717;background-color:#e3d2d2>
</span></span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2></span><span style=color:#998;font-style:italic># ุงุฒ ุนูุงูุช ุณุชุงุฑู ุงุณุชูุงุฏู ุดุฏู ุชุง ูู ูุงู ููู ู ูู ูุงู ุนุงุฏ ฺฉูพ ุจุดู</span><span style=color:#a61717;background-color:#e3d2d2>
</span></span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2></span><span style=color:#000;font-weight:700>COPY</span> package*.json ./<span style=color:#a61717;background-color:#e3d2d2>
</span></span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2>
</span></span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2></span><span style=color:#000;font-weight:700>RUN</span> npm install<span style=color:#a61717;background-color:#e3d2d2>
</span></span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2></span><span style=color:#998;font-style:italic># ุงฺฏู ุฏุงุฑ ุงูพูฺฉุดู ุฑู ุจุฑุง ูพุฑูุฏุงฺฉุดู ูุณุงุฒ ุงุฒ ุฏุณุชูุฑ ุฒุฑ ุงุณุชูุงุฏู ฺฉู</span><span style=color:#a61717;background-color:#e3d2d2>
</span></span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2>
</span></span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2></span><span style=color:#998;font-style:italic># ุณูุฑุณ ุงูพ ุฑู ุจุณุชูโุจูุฏ ฺฉู</span><span style=color:#a61717;background-color:#e3d2d2>
</span></span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2></span><span style=color:#000;font-weight:700>COPY</span> . .<span style=color:#a61717;background-color:#e3d2d2>
</span></span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2>
</span></span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2></span><span style=color:#000;font-weight:700>EXPOSE</span><span style=color:#d14> 8080</span><span style=color:#a61717;background-color:#e3d2d2>
</span></span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2></span><span style=color:#000;font-weight:700>CMD</span> [ <span style=color:#d14>&#34;node&#34;</span>, <span style=color:#d14>&#34;server.js&#34;</span> ]<span style=color:#a61717;background-color:#e3d2d2>
</span></span></span></code></pre></div><h2 id=ูุงู-dockerignore>ูุงู dockerignore. <a href=#%d9%81%d8%a7%db%8c%d9%84-dockerignore class=anchor>๐</a></h2><p>ู ูุงู
โโ<code>dockerignore</code>
ุฏุงุฎู ูููู ูููุฏุฑ ฺฉู ูุงู
<code>dockerfile</code>
ูุณุช ุจุณุงุฒ ฺฉู ูุญุชูุงุด ุงูุงุณ:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>node_modules
</span></span><span style=display:flex><span>npm-debug.log
</span></span></code></pre></div><p>ุงูฺฉุงุฑ ุจุงุนุซ ูุดู ฺฉู ูุงฺููโูุง ูุญู (ูุงฺููโูุง ฺฉู ุฑู ุณุณุชู ุฎูุฏุช ุฏุงุฎู ูููุฏุฑ ุงูพ ูุตุจ ฺฉุฑุฏ) ู ูุงฺฏโูุง ุฏุจุงฺฏ ุชู ุงูุฌ ุฏุงฺฉุฑ ฺฉูพ ูุดู.</p><h2 id=ุณุงุฎุช-image>ุณุงุฎุช image <a href=#%d8%b3%d8%a7%d8%ae%d8%aa-image class=anchor>๐</a></h2><p>ุจุฑู ุจู ูููุฏุฑ ฺฉู
<code>dockerfile</code>
ุฏุงุฎูุดู ู ูุฑูุงู ุฒุฑ ุฑู ุงุฌุฑุง ฺฉู ุชุง ุงูุฌ ุฏุงฺฉุฑ ุฑู ุจุณุงุฒู. ูพุฑฺู
<code>t-</code>
ู ุจุฑฺุณุจ ุจู ุงูุฌ ูฺุณุจููู ฺฉู ุจุนุฏุง ุฑุงุญุชโุชุฑ ุจุชูู ุจุง ูุฑูุงู
<code>docker images</code>
ูพุฏุงุด ฺฉู:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker build . -t &lt;your username&gt;/node-web-app
</span></span></code></pre></div><p>ุญุงูุง ุจุงุฏ ุฏุงฺฉุฑ ุงูุฌุช ุฑู ูุณุช ฺฉุฑุฏู ุจุงุดู:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ docker images
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#998;font-style:italic># ูุซุงู</span>
</span></span><span style=display:flex><span>REPOSITORY                      TAG        ID              CREATED
</span></span><span style=display:flex><span>node                            <span style=color:#099>14</span>         1934b0b038d1    <span style=color:#099>5</span> days ago
</span></span><span style=display:flex><span>&lt;your username&gt;/node-web-app    latest     d64d3505b0d2    <span style=color:#099>1</span> minute ago
</span></span></code></pre></div><h2 id=ุงุฌุฑุง-image>ุงุฌุฑุง image <a href=#%d8%a7%d8%ac%d8%b1%d8%a7%db%8c-image class=anchor>๐</a></h2><p>ุงุฌุฑุง ฺฉุฑุฏู ุงูุฌู ุจุง ูพุฑฺู
<code>d-</code>
ฺฉุงูุชูุฑ ุฑู ุฏุฑ ูพุณโุฒููู ุงุฌุฑุง ูฺฉูู. ูพุฑฺู
<code>p-</code>
ู ูพูุฑุช ุฎุตูุต ุฏุงุฎู ฺฉุงูุชูุฑ ุฑู ุจู ู ูพูุฑุช ุนููู ุฑุฏุงุฑฺฉุช ูฺฉูู. ุงูุฌ ฺฉู ุงุฒ ูุจู ุณุงุฎุช ุฑู ุงุฌุฑุง ฺฉู:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker run -p 49160:8080 -d &lt;your username&gt;/node-web-app
</span></span></code></pre></div><p>ุฎุฑูุฌ ุงูพูฺฉุดูุช ุฑู ฺุงูพ ฺฉู:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#998;font-style:italic># ุขุฏ ฺฉุงูุชูุฑ ุฑู ูพุฏุง ฺฉู</span>
</span></span><span style=display:flex><span>$ docker ps
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#998;font-style:italic># ุฎุฑูุฌ ุงูพ ุฑู ฺุงูพ ฺฉู</span>
</span></span><span style=display:flex><span>$ docker logs &lt;container id&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#998;font-style:italic># ูุซุงู</span>
</span></span><span style=display:flex><span>Running on http://localhost:8080
</span></span></code></pre></div><p>ุงฺฏู ูุฎูุง ุจุฑ ุฏุงุฎู ุฎูุฏ ฺฉุงูุชูุฑุ ูุชูู ุงุฒ ูุฑูุงู
<code>exec</code>
ุงุณุชูุงุฏู ฺฉู:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#998;font-style:italic># ุจู ฺฉุงูุชูุฑ ูุงุฑุฏ ุดู</span>
</span></span><span style=display:flex><span>$ docker <span style=color:#0086b3>exec</span> -it &lt;container id&gt; /bin/bash
</span></span></code></pre></div><h2 id=ุชุณุช>ุชุณุช <a href=#%d8%aa%d8%b3%d8%aa class=anchor>๐</a></h2><p>ุจุฑุง ุงู ฺฉู ุงูพูฺฉุดูุช ุฑู ุชุณุช ฺฉูุ ูพูุฑุช ุฑู ฺฉู ุฏุงฺฉุฑ ููพ ฺฉุฑุฏู ูพุฏุง ฺฉู:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ docker ps
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#998;font-style:italic># ูุซุงู</span>
</span></span><span style=display:flex><span>ID            IMAGE                                COMMAND    ...   PORTS
</span></span><span style=display:flex><span>ecce33b30ebf  &lt;your username&gt;/node-web-app:latest  npm start  ...   49160-&gt;8080
</span></span></code></pre></div><p>ุชู ูุซุงู ุจุงูุงุ ุฏุงฺฉุฑ ูพูุฑุช ุฏุงุฎู
<code>8080</code>
ฺฉุงูุชูุฑ ุฑู ุจู ูพูุฑุช
<code>49160</code>
ุฑู ฺฉุงููพูุชุฑุช ููพ ฺฉุฑุฏู.</p><p>ุญุงูุง ุงูพูฺฉุดูุช ุฑู ุจุง ุงุณุชูุงุฏู ุงุฒ
<code>curl</code>
ูุฑุงุฎูุงู ฺฉู:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ curl -i localhost:49160
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>HTTP/1.1 <span style=color:#099>200</span> OK
</span></span><span style=display:flex><span>X-Powered-By: Express
</span></span><span style=display:flex><span>Content-Type: text/html; <span style=color:teal>charset</span><span style=color:#000;font-weight:700>=</span>utf-8
</span></span><span style=display:flex><span>Content-Length: <span style=color:#099>12</span>
</span></span><span style=display:flex><span>ETag: W/<span style=color:#d14>&#34;c-M6tWOb/Y57lesdjQuHeB1P/qTV0&#34;</span>
</span></span><span style=display:flex><span>Date: Mon, <span style=color:#099>13</span> Nov <span style=color:#099>2017</span> 20:53:59 GMT
</span></span><span style=display:flex><span>Connection: keep-alive
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Hello world
</span></span></code></pre></div><p>ุงูุฏูุงุฑู ุงู ุฎูุฏุขููุฒ ุจูุช ฺฉูฺฉ ฺฉุฑุฏู ุจุงุดู ฺฉู ุจุชูู ู ุงูพูฺฉุดู ุณุงุฏู
Node.js
ุฑู ุจุง
Docker
ุงุฌุฑุง ฺฉู.</p><hr><p>ููุจุน:
<a href=https://nodejs.org/en/docs/guides/nodejs-docker-webapp/ target=_blank rel=noopener>Dockerizing a Node.js web app</a>
ุงุฒ ูุจุณุงุช ุฑุณู ููุฏ ุฌโุงุณ</p></div><div class=tags><a href=http://yavarjs.ir/tags/node.js>node.js</a>
<a href=http://yavarjs.ir/tags/docker>docker</a></div><script src=https://utteranc.es/client.js repo=yavarjs/utterances-comments issue-term=pathname theme=github-light crossorigin=anonymous async></script></section></main><footer id=footer><div class=copyright>ูุทุงูุจ ุจุง ุงุดุงุฑู ุจู ุงvar ุจู ุนููุงู ููุจุน ูุงุจู ุงูุชุดุงุฑู.</p><p class=powerby>ูุฏุฑุชโฺฏุฑูุชู ุงุฒ <a href=http://www.gohugo.io/>Hugo</a> ุจุง ุชู <a href=https://github.com/yavarjs/hugo-theme-mini>mini</a></p></footer></body></html>