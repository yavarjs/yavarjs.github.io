<!doctype html><html dir=rtl lang=fa><head><title>ฺฉูุฑุจูุฏ ุณุงูู Async Await ุฏุฑ Node.js | ุงvar</title><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="ูุฏู ุงู ููุดุชู ูุนุฑู ู ูุซุงูู ุจุฑุง ุงู ฺฉู ฺุฌูุฑ ู ุงูพูฺฉุดู
Node.js
ุฑู ุจู ู ฺฉุงูุชูุฑ
Docker
ุชุจุฏู ฺฉู. ุงู ุฑุงูููุง ุจุฑุง ุฒูุงู ุชูุณุนู ุงูพ ูุณุช ู ูู ุจุฑุง
ุงุณุชูุฑุงุฑ ุงูพ ุจุฑุง
production.
ููฺูู ูุฑุถ ูฺฉูู ฺฉู ู

    ูุณุฎูโ ูุตุจ ุดุฏู ุงุฒ ุฏุงฺฉุฑ

ุฑู ุณุณุชูุช ูุณุช ู ู ุฏุงูุด ุงุจุชุฏุง ุงุฒ ุณุงุฎุชุงุฑ ู ุงูพูฺฉุดู
Node.js
ุฏุงุฑ."><meta name=generator content="Hugo 0.83.1"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><meta name=author content="ุญูุฏุฑุถุง ููุฏู ูพูุงู"><meta name=keywords content="web app,ุฏุงฺฉุฑ,ููุฏ ุฌโุงุณ,node.js,docker"><link href=https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@v28.0.0/dist/font-face.css rel=stylesheet type=text/css><link rel=stylesheet href=/css/style.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-TB5X9PJPXB"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-TB5X9PJPXB')</script></head><body><nav class=navigation><a href=/>ุฎุงูู <span class=arrow>โ</span></a>
<a href=/tags>ุจุฑฺุณุจโูุง</a>
<a href=/about>ุฏุฑุจุงุฑู ุงvar</a></nav><main class=main><section id=single><h1 class=title>ฺฉูุฑุจูุฏ ุณุงูู Async Await ุฏุฑ Node.js</h1><div class=tip><span>ุญูุฏุฑุถุง ููุฏู ูพูุงู</span>
<span class=split>ยท</span>
<span>ุฎูุงูุฏู 10 ุฏููู</span>
<span class=split>ยท</span>
<span>1943 ฺฉููู</span>
<span class=split>ยท</span>
<span>ฑดฐฐ/ฒ/ฑฒ</span></div><div class=content><p>ุฏุฑ ุงู ููุดุชู ุงุฏ ูฺฏุฑ ฺฉู ฺุฌูุฑ ุงูพูฺฉุดูโูุง
Node.jsุง
ฺฉู ุจุง
callback
ุง
Promise
ููุดุช ุฑู
ุจุง ุชูุงุจุน
async
ุณุงุฏูโุชุฑุดูู ฺฉู.</p><p>ุงฺฏู ูุจูุง ู ูฺฏุงู ุจู ุงูฺฏู
async/await
ู
promiseูุง
ุฏุฑ ุฌุงูุงุงุณฺฉุฑูพุช ุงูุฏุงุฎุช ูู ูููุฒ ฺฉุงูู ุจูุดูู ูุณูุท ูุณุช ู ุง ุงู ฺฉู ููุท ูุงุฒ ุฏุงุฑ ุชุง ูุฑูุฑุดูู ฺฉูุ ูุฏู ุงู ููุดุชู ฺฉูฺฉ ุจู ุชูุฆู.</p><h2 id=ุชุงุจุนูุง-async-ฺ-ูุณุชู>ุชุงุจุนโูุง async ฺ ูุณุชูุ <a href=#%d8%aa%d8%a7%d8%a8%d8%b9%d9%87%d8%a7%db%8c-async-%da%86%db%8c-%d9%87%d8%b3%d8%aa%d9%86 class=anchor>๐</a></h2><p>ุชูุงุจุน
async
ุจู ุทูุฑ ูพุดโูุฑุถ ุฏุฑ
Node
ุฏุฑ ุฏุณุชุฑุณูุฏ ู ุจุง ฺฉูููโ ฺฉูุฏ
<code>async</code>
ุนูุงูุชโฺฏุฐุงุฑ ูุดู. ุงู ุชูุงุจุน ุญุช ุงฺฏู ุจู ุทูุฑ ุตุฑุญ ุฏุฑ ุจุฏูุดูู ูุดุฎุต ูฺฉูุ ููุดู ู
promise
ุจุฑูฺฏุฑุฏููู. ุฏุฑ ุถููุ ูุนูุง ฺฉูููโ ฺฉูุฏ
<code>await</code>
<em>ููุท</em>
ุฏุฑ ุฏุงุฎู ุชูุงุจุน
async
ูุงุจู ุงุณุชูุงุฏูโุงุณ ู ููุดู ุฏุฑ ุฏุงููู ุณุฑุงุณุฑ
(global scope)
ุงุฒุด ุงุณุชูุงุฏู ฺฉุฑุฏ.</p><p>ุฏุงุฎู ู ุชุงุจุน
async
ูุชูู ููุชุธุฑ ู
<code>Promise</code>
ุจููู ู ุง ุงู ฺฉู ุฏุฑ ุตูุฑุช ูุฑุฏูุฏ ุดุฏูุด
(rejected)
ูุชูู ุฎุทุงุด ุฑู ุฏุณุชฺฏุฑ ฺฉู
(catch).</p><p>ูพุณ ุงฺฏู ู ฺฉุฏ ุฏุงุฑ ฺฉู ุจุง
promiseูุง
ูพุงุฏูโุณุงุฒ ุดุฏู:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#000;font-weight:700>function</span> handler (req, res) {
  <span style=color:#000;font-weight:700>return</span> request(<span style=color:#d14>&#39;https://user-handler-service&#39;</span>)
    .<span style=color:#000;font-weight:700>catch</span>((err) =&gt; {
      logger.error(<span style=color:#d14>&#39;Http error&#39;</span>, err);
      error.logged <span style=color:#000;font-weight:700>=</span> <span style=color:#000;font-weight:700>true</span>;
      <span style=color:#000;font-weight:700>throw</span> err;
    })
    .then((response) =&gt; Mongo.findOne({ user<span style=color:#000;font-weight:700>:</span> response.body.user }))
    .<span style=color:#000;font-weight:700>catch</span>((err) =&gt; {
      <span style=color:#000;font-weight:700>!</span>error.logged <span style=color:#000;font-weight:700>&amp;&amp;</span> logger.error(<span style=color:#d14>&#39;Mongo error&#39;</span>, err);
      error.logged <span style=color:#000;font-weight:700>=</span> <span style=color:#000;font-weight:700>true</span>;
      <span style=color:#000;font-weight:700>throw</span> err;
    })
    .then((<span style=color:#0086b3>document</span>) =&gt; executeLogic(req, res, <span style=color:#0086b3>document</span>))
    .<span style=color:#000;font-weight:700>catch</span>((err) =&gt; {
      <span style=color:#000;font-weight:700>!</span>error.logged <span style=color:#000;font-weight:700>&amp;&amp;</span> console.error(err);
      res.status(<span style=color:#099>500</span>).send();
    });
}
</code></pre></div><p>ูุชูู ุจุง
โโ<code>async/await</code>
ุดุจู ุจู ู ฺฉุฏ ููฺฏุงู
(synchronous)
ุจููุณุด:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#000;font-weight:700>async</span> <span style=color:#000;font-weight:700>function</span> handler (req, res) {
  <span style=color:#000;font-weight:700>let</span> response;
  <span style=color:#000;font-weight:700>try</span> {
    response <span style=color:#000;font-weight:700>=</span> <span style=color:#000;font-weight:700>await</span> request(<span style=color:#d14>&#39;https://user-handler-service&#39;</span>)  ;
  } <span style=color:#000;font-weight:700>catch</span> (err) {
    logger.error(<span style=color:#d14>&#39;Http error&#39;</span>, err);
    <span style=color:#000;font-weight:700>return</span> res.status(<span style=color:#099>500</span>).send();
  }

  <span style=color:#000;font-weight:700>let</span> <span style=color:#0086b3>document</span>;
  <span style=color:#000;font-weight:700>try</span> {
    <span style=color:#0086b3>document</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000;font-weight:700>await</span> Mongo.findOne({ user<span style=color:#000;font-weight:700>:</span> response.body.user });
  } <span style=color:#000;font-weight:700>catch</span> (err) {
    logger.error(<span style=color:#d14>&#39;Mongo error&#39;</span>, err);
    <span style=color:#000;font-weight:700>return</span> res.status(<span style=color:#099>500</span>).send();
  }

  executeLogic(<span style=color:#0086b3>document</span>, req, res);
}
</code></pre></div><p>ุฏุฑ ุญุงู ุญุงุถุฑ ุฏุฑ
Node
ุงฺฏู ุฏุฑ ู
promise
ุฎุทุง ุฑุฎ ุจุฏู ฺฉู ุจูุด ุฑุณุฏฺฏ ูุดุฏูุ
Node
ููุท ุจูุช ูุดุฏุงุฑ ูุฏูุ ูพุณ ุจูุงุจุฑุงู ูุงุฒ ูุณุช ุชุง ุฎูุฏุชู ุชู ุฏุฑุฏุณุฑ ุณุงุฎุชู ู
listener
ุจูุฏุงุฒ. ูุฑฺูุฏ ฺูู ุงู ุงุชูุงู ูุดููโุฏููุฏูโ ู ุญุงูุช ูุงูุดุฎุตูุ ุชูุตู ูุดู ุชุง ุงูพูฺฉุดู ุฑู ุจุจูุฏ ู ฺฉุฑุด ฺฉูุ ุฏููุง ุดุจู ุจู ุญุงูุช ฺฉู ู ุฎุทุง
catch
ูุดุฏู ุฏุฑ ุฌุง ุงุฒ ฺฉุฏ ุฑุฎ ูุฏู. ุงู ฺฉุงุฑู ูุชูู ุง ุจุง ุงุณุชูุงุฏู ุงุฒ ูพุฑฺู
<code>unhandled-rejections=strict--</code>
ุฏุฑ ฺฉุงููุฏโูุงู ุงูุฌุงู ุจุฏ ุง ุจุง ูพุงุฏูโุณุงุฒ ฺุฒ ุดุจู ุจู ุงู:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js>process.on(<span style=color:#d14>&#39;unhandledRejection&#39;</span>, (err) =&gt; { 
  console.error(err);
  process.exit(<span style=color:#099>1</span>);
})
</code></pre></div><p>ูุฑุงุฑู ุชุง ูุงุจูุช ุฎุงุฑุฌ ุดุฏู ุงุชููุงุชฺฉ ุงุฒ ูพุฑูุณูุ ุฏุฑ ูุณุฎูโูุง ุขูุฏูโ
Node
ุงุถุงูู ุจุดู. ุงู ฺฉู ฺฉุฏุช ุฑู ุงุฒ ูุจู ุจุฑุง ุงูฺฉุงุฑ ุขูุงุฏู ฺฉู ุฒุญูุช ุฒุงุฏ ูุฏุงุฑู ูู ุฎูุจุด ุงูู ฺฉู ููุช ุฎูุงุณุช ูุณุฎูโูุง ุฑู ุขูพุฏุช ฺฉู ุฏฺฏู ูฺฏุฑุงู ุงู ููุถูุน ูุณุช.</p><h2 id=ุงูฺฏููุง-ุจุง-ุชูุงุจุน-async>ุงูฺฏููุง ุจุง ุชูุงุจุน async <a href=#%d8%a7%d9%84%da%af%d9%88%d9%87%d8%a7-%d8%a8%d8%a7-%d8%aa%d9%88%d8%a7%d8%a8%d8%b9-async class=anchor>๐</a></h2><p>ุงุฒ ุงููุฌุง ฺฉู ุฑุณุฏฺฏ ุจู ุนููุงุช ูุงููฺฏุงู
(asynchronous)
ุจุง ุงุณุชูุงุฏู ุงุฒ
Promiseูุง
ู ุง
callbackูุง
ูุงุฒ ุจู ุงูฺฏููุง ูพฺุฏูโุง ุฏุงุฑูุ ููุช ฺฉู ุจุชูู ุงู ุนููุงุช ุฑู ุฌูุฑ ูพุงุฏูโุณุงุฒ ฺฉู ฺฉู ุงูฺฏุงุฑ ููฺฏุงู ูุณุชูุ ฺฉุงุฑ ุฎู ุจุฑุงุช ุณุงุฏูโุชุฑู.</p><p>ุงุฒ ูุณุฎูโ
10.0.0
ููุฏ ุฌโุงุณุ ูพุดุชุจุงู ุงุฒ
async iterators
ู ุญูููโ ูุฑุชุจุทุด ุนู
for-await
ุงุถุงูู ุดุฏู. ุงู ุงูฺฉุงูุงุช ุฒูุงู ุจุฏุฑุฏุช ูุฎูุฑู ฺฉู ูุฎูุง ุฑู ููุฏุงุฑ ฺฉู ู
iterator method
ุจุฑูฺฏุฑุฏููู ู ุงุฒ ูุจู ูุดุฎุต ูุณุชูุ ุญุฑฺฉุช ฺฉู (ุญููู ุจุฒู) ู ฺฉุงุฑ ุฑู ุงูุฌุงู ุจุฏ ู ุญุงูุช ููุง ุงู ุชฺฉุฑุงุฑ
(iteration)
ูู ูุดุฎุต ูุณุช - ูุนูููุง ุงู ุญุงูุช ุญู ฺฉุงุฑ ุจุง
streamูุง
ูพุด ูุงุฏ.</p><h2 id=ุชูุงุด-ูุฌุฏุฏ-ุจุง-ุนูุจูุดู-ููุง-exponential-backoff>ุชูุงุด ูุฌุฏุฏ ุจุง ุนูุจโูุดู ููุง (exponential backoff) <a href=#%d8%aa%d9%84%d8%a7%d8%b4-%d9%85%d8%ac%d8%af%d8%af-%d8%a8%d8%a7-%d8%b9%d9%82%d8%a8%d9%86%d8%b4%db%8c%d9%86%db%8c-%d9%86%d9%85%d8%a7%db%8c%db%8c-exponential-backoff class=anchor>๐</a></h2><p>ูพุงุฏูโุณุงุฒ ุงูฺฏูุฑุชู ุชูุงุด ูุฌุฏุฏ ุจุง
Promiseูุง
ุฎู ุจุฏุชุฑฺฉุจู:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#000;font-weight:700>function</span> request(url) {
  <span style=color:#000;font-weight:700>return</span> <span style=color:#000;font-weight:700>new</span> <span style=color:#0086b3>Promise</span>((resolve, reject) =&gt; {
    setTimeout(() =&gt; {
      reject(<span style=color:#d14>`Network error when trying to reach </span><span style=color:#d14>${</span>url<span style=color:#d14>}</span><span style=color:#d14>`</span>);
    }, <span style=color:#099>500</span>);
  });
}

<span style=color:#000;font-weight:700>function</span> requestWithRetry(url, retryCount, currentTries <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>) {
  <span style=color:#000;font-weight:700>return</span> <span style=color:#000;font-weight:700>new</span> <span style=color:#0086b3>Promise</span>((resolve, reject) =&gt; {
    <span style=color:#000;font-weight:700>if</span> (currentTries <span style=color:#000;font-weight:700>&lt;=</span> retryCount) {
      <span style=color:#000;font-weight:700>const</span> timeout <span style=color:#000;font-weight:700>=</span> (<span style=color:#0086b3>Math</span>.pow(<span style=color:#099>2</span>, currentTries) <span style=color:#000;font-weight:700>-</span> <span style=color:#099>1</span>) <span style=color:#000;font-weight:700>*</span> <span style=color:#099>100</span>;
      request(url)
        .then(resolve)
        .<span style=color:#000;font-weight:700>catch</span>((error) =&gt; {
          setTimeout(() =&gt; {
            console.log(<span style=color:#d14>&#39;Error: &#39;</span>, error);
            console.log(<span style=color:#d14>`Waiting </span><span style=color:#d14>${</span>timeout<span style=color:#d14>}</span><span style=color:#d14> ms`</span>);
            requestWithRetry(url, retryCount, currentTries <span style=color:#000;font-weight:700>+</span> <span style=color:#099>1</span>);
          }, timeout);
        });
    } <span style=color:#000;font-weight:700>else</span> {
      console.log(<span style=color:#d14>&#39;No retries left, giving up.&#39;</span>);
      reject(<span style=color:#d14>&#39;No retries left, giving up.&#39;</span>);
    }
  });
}

requestWithRetry(<span style=color:#d14>&#39;http://localhost:3000&#39;</span>)
  .then((res) =&gt; {
    console.log(res)
  })
  .<span style=color:#000;font-weight:700>catch</span>(err =&gt; {
    console.error(err)
  });
</code></pre></div><p>ุงู ูพุงุฏูโุณุงุฒ ฺฉุงุฑ ฺฉู ูุฎูุงูู ูฺฉูู ุงูุง ูุชููู ุจุงุฒููุณุด ฺฉูู ู ุจุง
<code>async/await</code>
ุฎู ุฑุงุญุชโุชุฑ ฺฉุงุฑู ุงูุฌุงู ุจุฏู:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#000;font-weight:700>function</span> wait (timeout) {
  <span style=color:#000;font-weight:700>return</span> <span style=color:#000;font-weight:700>new</span> <span style=color:#0086b3>Promise</span>((resolve) =&gt; {
    setTimeout(() =&gt; {
      resolve()
    }, timeout);
  });
}

<span style=color:#000;font-weight:700>async</span> <span style=color:#000;font-weight:700>function</span> requestWithRetry (url) {
  <span style=color:#000;font-weight:700>const</span> MAX_RETRIES <span style=color:#000;font-weight:700>=</span> <span style=color:#099>10</span>;
  <span style=color:#000;font-weight:700>for</span> (<span style=color:#000;font-weight:700>let</span> i <span style=color:#000;font-weight:700>=</span> <span style=color:#099>0</span>; i <span style=color:#000;font-weight:700>&lt;=</span> MAX_RETRIES; i<span style=color:#000;font-weight:700>++</span>) {
    <span style=color:#000;font-weight:700>try</span> {
      <span style=color:#000;font-weight:700>return</span> <span style=color:#000;font-weight:700>await</span> request(url);
    } <span style=color:#000;font-weight:700>catch</span> (err) {
      <span style=color:#000;font-weight:700>const</span> timeout <span style=color:#000;font-weight:700>=</span> <span style=color:#0086b3>Math</span>.pow(<span style=color:#099>2</span>, i);
      console.log(<span style=color:#d14>&#39;Waiting&#39;</span>, timeout, <span style=color:#d14>&#39;ms&#39;</span>);
      <span style=color:#000;font-weight:700>await</span> wait(timeout);
      console.log(<span style=color:#d14>&#39;Retrying&#39;</span>, err.message, i);
    }
  }
}
</code></pre></div><p>ุฎู ุจุดุชุฑ ุจู ุฏู ูุดููุ ููุ</p><h2 id=ููุงุฏุฑ-ูุงู-intermediate-values>ููุงุฏุฑ ูุงู (intermediate values) <a href=#%d9%85%d9%82%d8%a7%d8%af%db%8c%d8%b1-%d9%85%db%8c%d8%a7%d9%86%db%8c-intermediate-values class=anchor>๐</a></h2><p>ุจุง ุงู ฺฉู ูุซุงู ูพุดโุฑู ุจู ุงูุฏุงุฒูโ ูุจู ุชุฑุณูุงฺฉ ูุณุชุ ุงูุง ุงฺฏู ุญุงูุช ุฏุงุดุชู ุจุงุด ฺฉู ณ ุชุงุจุน ูุงููฺฏุงู ูุฎุชูู ุจู ุดฺฉู ฺฉู ุฏุฑ ุฒุฑ ุชูุถุญ ูุฏูุ ุจูู ูุงุจุณุชู ุจุงุดูุ ูุฌุจูุฑ ุชุง ุงุฒ ุจู ฺูุฏุชุง ุฑุงูโุญู ุฒุดุช ู ุจุฏุชุฑฺฉุจ ฺฉุดููู ุงูุชุฎุงุจ ฺฉู.</p><blockquote><p>ุชุงุจุน
<code>functionA</code>
ู
Promise
ุจุฑูฺฏุฑุฏููู ฺฉู ุณูพุณ
<code>functionB</code>
ุจู ููุฏุงุฑุด ูุงุฒ ุฏุงุฑู ู ุจุนุฏ ุงุฒ ุงูู
<code>functionC</code>
ุจู ููุฏุงุฑ ููุง
Promiseูุง
ุฌูุช ุชุงุจุน
<code>functionA</code>
ู
<code>functionB</code>
ูุงุฒ ุฏุงุฑู.</p></blockquote><h3 id=ุฑุงู-ุญู-ฑ-ุฏุฑุฎุช-ฺฉุฑุณูุณ-then>ุฑุงู ุญู ฑ: ุฏุฑุฎุช ฺฉุฑุณูุณ then. <a href=#%d8%b1%d8%a7%d9%87-%d8%ad%d9%84-%db%b1-%d8%af%d8%b1%d8%ae%d8%aa-%da%a9%d8%b1%db%8c%d8%b3%d9%85%d8%b3-then class=anchor>๐</a></h3><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#000;font-weight:700>function</span> executeAsyncTask () {
  <span style=color:#000;font-weight:700>return</span> functionA()
    .then((valueA) =&gt; {
      <span style=color:#000;font-weight:700>return</span> functionB(valueA)
        .then((valueB) =&gt; {          
          <span style=color:#000;font-weight:700>return</span> functionC(valueA, valueB)
        })
    })
}
</code></pre></div><p>ุชู ุงู ุฑุงู ุญูุ ุจุฑุง ุงูุฌุงู
<code>functionC</code>
ููุฏุงุฑ
<code>valueA</code>
ุฑู ุงุฒ ฺฉููฺุฑ
(closure)
ุณููู
<code>then</code>
ูฺฏุฑ ู ููุฏุงุฑ
<code>valueB</code>
ุฑู ุงุฒ
Promise
ูุจูุด ฺฉู ุงูุฌุงู ุดุฏู. ููุชูู ุงู ุฏุฑุฎุช ฺฉุฑุณูุณ ุฑู ูุณุทุญ ฺฉู ฺูู ุฏุฑ ุงูู ุตูุฑุช ฺฉููฺุฑ ุฑู ฺฏู ูฺฉู ู
<code>valueA</code>
ุฏุฑ ุฏุณุชุฑุณ
<code>functionC</code>
ูุฎูุงูุฏ ุจูุฏ.</p><h3 id=ุฑุงู-ุญู-ฒ-ุญุฑฺฉุช-ุจู-ู-ุงุณฺฉููพ-scope-ุจุงูุงุชุฑ>ุฑุงู ุญู ฒ: ุญุฑฺฉุช ุจู ู ุงุณฺฉููพ (scope) ุจุงูุงุชุฑ <a href=#%d8%b1%d8%a7%d9%87-%d8%ad%d9%84-%db%b2-%d8%ad%d8%b1%da%a9%d8%aa-%d8%a8%d9%87-%db%8c%d9%87-%d8%a7%d8%b3%da%a9%d9%88%d9%be-scope-%d8%a8%d8%a7%d9%84%d8%a7%d8%aa%d8%b1 class=anchor>๐</a></h3><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#000;font-weight:700>function</span> executeAsyncTask () {
  <span style=color:#000;font-weight:700>let</span> valueA
  <span style=color:#000;font-weight:700>return</span> functionA()
    .then((v) =&gt; {
      valueA <span style=color:#000;font-weight:700>=</span> v
      <span style=color:#000;font-weight:700>return</span> functionB(valueA)
    })
    .then((valueB) =&gt; {
      <span style=color:#000;font-weight:700>return</span> functionC(valueA, valueB)
    })
}
</code></pre></div><p>ุชู ูุซุงู ุฏุฑุฎุช ฺฉุฑุณูุณ ุดุจู ุจู ููู ูุซุงูุ ุงุฒ ู ุงุณฺฉููพ ุจุงูุงุชุฑ ุจุฑุง ุฏุณุชุฑุณ ุจู
<code>valueA</code>
ุงุณุชูุงุฏู ฺฉุฑุฏู. ุงูุง ุชูุงูุช ุงู ูุซุงู ุงูู ฺฉู ูุชุบุฑ
<code>valueA</code>
ุฑู ุฎุงุฑุฌ ุงุฒ ุงุณฺฉููพ
<code>then.</code>
ุชุนุฑู ฺฉุฑุฏู ุชุง ุจุชููู ููุฏุงุฑ ููุง ุงููู
Promise
ุฑู ุจูุด ุงูุชุณุงุจ ุจุฏู.</p><p>ุงู ูุซุงู ูุทุนุง ฺฉุงุฑ ูฺฉูู ู ุฒูุฌุฑูโ
<code>then.</code>
ูู ูุณุทุญ ุดุฏู ู ุงุฒ ูุธุฑ ูุนูุง ูู ุฏุฑุณุชู. ุจุง ุงู ูุฌูุฏ ุงฺฏู ุงุฒ
<code>valueA</code>
ุฏุฑ ุฌุงูุง ุฏฺฏู ุงุฒ ุชุงุจุน ุงุณุชูุงุฏู ฺฉูุ ุฑุงู ุจุฑุง ูพุฏุง ุดุฏู ุจุงฺฏโูุง ุฌุฏุฏ ุจุงุฒ ูุดู. ุนูุงูู ุจุฑ ุงูุ ูุฌุจูุฑ ุจุฑุง ู ููุฏุงุฑ ฺฉุณุงู ุงุฒ ุฏูุชุง ุงุณู ูุฎุชูู ุงุณุชูุงุฏู ฺฉู -
<code>valueA</code>
ู
<code>v</code>.</p><h3 id=ุฑุงู-ุญู-ณ-ุขุฑุงู-ุบุฑ-ุถุฑูุฑ>ุฑุงู ุญู ณ: ุขุฑุงูโ ุบุฑ ุถุฑูุฑ <a href=#%d8%b1%d8%a7%d9%87-%d8%ad%d9%84-%db%b3-%d8%a2%d8%b1%d8%a7%db%8c%d9%87%db%8c-%d8%ba%db%8c%d8%b1-%d8%b6%d8%b1%d9%88%d8%b1%db%8c class=anchor>๐</a></h3><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#000;font-weight:700>function</span> executeAsyncTask () {
  <span style=color:#000;font-weight:700>return</span> functionA()
    .then(valueA =&gt; {
      <span style=color:#000;font-weight:700>return</span> <span style=color:#0086b3>Promise</span>.all([valueA, functionB(valueA)])
    })
    .then(([valueA, valueB]) =&gt; {
      <span style=color:#000;font-weight:700>return</span> functionC(valueA, valueB)
    })
}
</code></pre></div><p>ุฌุฒ ุงู ฺฉู ูุฎูุง ุฏุฑุฎุช ุฑู ูุณุทุญ ฺฉูุ ูฺ ุฏูู ูุฏุงุฑู ฺฉู
<code>valueA</code>
ุฑู ููุฑุงู ุจุง
Promiseุง
ฺฉู
<code>functionB</code>
ุจุฑูฺฏุฑุฏููู ุฏุงุฎู ู ุขุฑุงู ูพุงุณ ุจุฏู. ููุฏุงุฑ ุงู ุฏู ุนูุตุฑ ุขุฑุงู ููฺฉูู ุงุฒ ุฏู ุฌูุณ ฺฉุงููุง ูุฎุชูู ุจุงุดู ู ุจูุงุจุฑุงู ุฌุงูุจ ูุณุช ฺฉู ุชู ู ุขุฑุงูโ ูุงุญุฏ ูุฑุงุฑ ุจฺฏุฑู.</p><h3 id=ุฑุงู-ุญู-ด-ู-ุชุงุจุน-ฺฉูฺฉ-ุจููุณ>ุฑุงู ุญู ด: ู ุชุงุจุน ฺฉูฺฉ ุจููุณ <a href=#%d8%b1%d8%a7%d9%87-%d8%ad%d9%84-%db%b4-%db%8c%d9%87-%d8%aa%d8%a7%d8%a8%d8%b9-%da%a9%d9%85%da%a9%db%8c-%d8%a8%d9%86%d9%88%db%8c%d8%b3 class=anchor>๐</a></h3><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#000;font-weight:700>const</span> converge <span style=color:#000;font-weight:700>=</span> (...promises) =&gt; (...args) =&gt; {
  <span style=color:#000;font-weight:700>let</span> [head, ...tail] <span style=color:#000;font-weight:700>=</span> promises
  <span style=color:#000;font-weight:700>if</span> (tail.length) {
    <span style=color:#000;font-weight:700>return</span> head(...args)
      .then((value) =&gt; converge(...tail)(...args.concat([value])))
  } <span style=color:#000;font-weight:700>else</span> {
    <span style=color:#000;font-weight:700>return</span> head(...args)
  }
}

functionA(<span style=color:#099>2</span>)
  .then((valueA) =&gt; converge(functionB, functionC)(valueA))
</code></pre></div><p>ุงูุจุชู ฺฉู ูุชูู ู ุชุงุจุน ฺฉูฺฉ ุจููุณ ุชุง ุงู ุขุด ุดูู ูููฺฉุงุฑ ุฑู ุฏุฑุณุช ฺฉู. ุงูุง ุงุฒ ูุธุฑ ุฎูุงูุง ุฎู ุถุนูู ู ุจูุงุจุฑุงู ููฺฉูู ุฏุฑฺฉุด ุจุฑุง ฺฉุณุง ฺฉู ุชู ุจุฑูุงููโููุณ
functional
ูููุงุดูู ุณูุฏ ูุดุฏูุ ุณุฎุช ุจุงุดู.</p><h3 id=ุจุง-ุงุณุชูุงุฏู-ุงุฒ-asyncawait-ุจู-ุทูุฑ-ูุนุฌุฒูุขุณุง-ูุดฺฉูุงุชููู-ูุงูพุฏุฏ-ูุดู>ุจุง ุงุณุชูุงุฏู ุงุฒ <code>async/await</code> ุจู ุทูุฑ ูุนุฌุฒูโุขุณุง ูุดฺฉูุงุชููู ูุงูพุฏุฏ ูุดู: <a href=#%d8%a8%d8%a7-%d8%a7%d8%b3%d8%aa%d9%81%d8%a7%d8%af%d9%87-%d8%a7%d8%b2-asyncawait-%d8%a8%d9%87-%d8%b7%d9%88%d8%b1-%d9%85%d8%b9%d8%ac%d8%b2%d9%87%d8%a2%d8%b3%d8%a7%db%8c%db%8c-%d9%85%d8%b4%da%a9%d9%84%d8%a7%d8%aa%d9%85%d9%88%d9%86-%d9%86%d8%a7%d9%be%d8%af%db%8c%d8%af-%d9%85%db%8c%d8%b4%d9%87 class=anchor>๐</a></h3><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#000;font-weight:700>async</span> <span style=color:#000;font-weight:700>function</span> executeAsyncTask () {
  <span style=color:#000;font-weight:700>const</span> valueA <span style=color:#000;font-weight:700>=</span> <span style=color:#000;font-weight:700>await</span> functionA();
  <span style=color:#000;font-weight:700>const</span> valueB <span style=color:#000;font-weight:700>=</span> <span style=color:#000;font-weight:700>await</span> functionB(valueA);
  <span style=color:#000;font-weight:700>return</span> function3(valueA, valueB);
}
</code></pre></div><h2 id=ฺูุฏู-ุฏุฑุฎูุงุณุช-ููุงุฒ-ุจุง--asyncawait>ฺูุฏู ุฏุฑุฎูุงุณุช ููุงุฒ ุจุง async/await <a href=#%da%86%d9%86%d8%af%db%8c%d9%86-%d8%af%d8%b1%d8%ae%d9%88%d8%a7%d8%b3%d8%aa-%d9%85%d9%88%d8%a7%d8%b2%db%8c-%d8%a8%d8%a7--asyncawait class=anchor>๐</a></h2><p>ุงู ูุซุงู ุดุจู ูุจูู. ูุฑุถ ฺฉู ูุฎูุง ฺูุฏ ฺฉุงุฑ ูุงููฺฏุงู ูุฎุชูู ุฑู ุฏุฑ ฺฉ ูุญุธู ุดุฑูุน ฺฉู ู ุงุฒ ููุงุฏุฑ ุจุฑฺฏุดุชุดูู ุชู ุฌุงูุง ูุฎุชูู ุงุณุชูุงุฏู ฺฉู:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#000;font-weight:700>async</span> <span style=color:#000;font-weight:700>function</span> executeParallelAsyncTasks () {
  <span style=color:#000;font-weight:700>const</span> [ valueA, valueB, valueC ] <span style=color:#000;font-weight:700>=</span> <span style=color:#000;font-weight:700>await</span> <span style=color:#0086b3>Promise</span>.all([ functionA(), functionB(), functionC() ]);
  doSomethingWith(valueA);
  doSomethingElseWith(valueB);
  doAnotherThingWith(valueC);
}
</code></pre></div><h2 id=ูุชุฏูุง-iteration-ุขุฑุงู>ูุชุฏูุง iteration ุขุฑุงู <a href=#%d9%85%d8%aa%d8%af%d9%87%d8%a7%db%8c-iteration-%d8%a2%d8%b1%d8%a7%db%8c%d9%87 class=anchor>๐</a></h2><p>ุงฺฏุฑฺู ุฑูุชุงุฑุดูู ุฎู ุบุฑููุชุธุฑุณุช ูู
ูุชูู
<code>map</code> ุ<code>filter</code>
ู
<code>reduce</code>
ุฑู ุจุง ุชูุงุจุน
async
ุงุณุชูุงุฏู ฺฉู. ุชูุงุด ฺฉู ุญุฏุณ ุจุฒู ฺฉู ุฎุฑูุฌ ุงุณฺฉุฑูพุชโูุง ุฒุฑ ฺู:</p><h3 id=ฑ-map>โโฑ. map <a href=#%db%b1-map class=anchor>๐</a></h3><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#000;font-weight:700>function</span> asyncThing (value) {
  <span style=color:#000;font-weight:700>return</span> <span style=color:#000;font-weight:700>new</span> <span style=color:#0086b3>Promise</span>((resolve) =&gt; {
    setTimeout(() =&gt; resolve(value), <span style=color:#099>100</span>);
  });
}

<span style=color:#000;font-weight:700>async</span> <span style=color:#000;font-weight:700>function</span> main () {
  <span style=color:#000;font-weight:700>return</span> [<span style=color:#099>1</span>,<span style=color:#099>2</span>,<span style=color:#099>3</span>,<span style=color:#099>4</span>].map(<span style=color:#000;font-weight:700>async</span> (value) =&gt; {
    <span style=color:#000;font-weight:700>const</span> v <span style=color:#000;font-weight:700>=</span> <span style=color:#000;font-weight:700>await</span> asyncThing(value);
    <span style=color:#000;font-weight:700>return</span> v <span style=color:#000;font-weight:700>*</span> <span style=color:#099>2</span>;
  });
}

main()
  .then(v =&gt; console.log(v))
  .<span style=color:#000;font-weight:700>catch</span>(err =&gt; console.error(err));
</code></pre></div><h3 id=ฒ-filter>โโฒ. filter <a href=#%db%b2-filter class=anchor>๐</a></h3><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#000;font-weight:700>function</span> asyncThing (value) {
  <span style=color:#000;font-weight:700>return</span> <span style=color:#000;font-weight:700>new</span> <span style=color:#0086b3>Promise</span>((resolve) =&gt; {
    setTimeout(() =&gt; resolve(value), <span style=color:#099>100</span>);
  });
}

<span style=color:#000;font-weight:700>async</span> <span style=color:#000;font-weight:700>function</span> main () {
  <span style=color:#000;font-weight:700>return</span> [<span style=color:#099>1</span>,<span style=color:#099>2</span>,<span style=color:#099>3</span>,<span style=color:#099>4</span>].filter(<span style=color:#000;font-weight:700>async</span> (value) =&gt; {
    <span style=color:#000;font-weight:700>const</span> v <span style=color:#000;font-weight:700>=</span> <span style=color:#000;font-weight:700>await</span> asyncThing(value);
    <span style=color:#000;font-weight:700>return</span> v <span style=color:#000;font-weight:700>%</span> <span style=color:#099>2</span> <span style=color:#000;font-weight:700>===</span> <span style=color:#099>0</span>;
  });
}

main()
  .then(v =&gt; console.log(v))
  .<span style=color:#000;font-weight:700>catch</span>(err =&gt; console.error(err));
</code></pre></div><h3 id=ณ-reduce>โโณ. reduce <a href=#%db%b3-reduce class=anchor>๐</a></h3><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#000;font-weight:700>function</span> asyncThing (value) {
  <span style=color:#000;font-weight:700>return</span> <span style=color:#000;font-weight:700>new</span> <span style=color:#0086b3>Promise</span>((resolve) =&gt; {
    setTimeout(() =&gt; resolve(value), <span style=color:#099>100</span>);
  });
}

<span style=color:#000;font-weight:700>async</span> <span style=color:#000;font-weight:700>function</span> main () {
  <span style=color:#000;font-weight:700>return</span> [<span style=color:#099>1</span>,<span style=color:#099>2</span>,<span style=color:#099>3</span>,<span style=color:#099>4</span>].reduce(<span style=color:#000;font-weight:700>async</span> (acc, value) =&gt; {
    <span style=color:#000;font-weight:700>return</span> <span style=color:#000;font-weight:700>await</span> acc <span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>await</span> asyncThing(value);
  }, <span style=color:#0086b3>Promise</span>.resolve(<span style=color:#099>0</span>));
}

main()
  .then(v =&gt; console.log(v))
  .<span style=color:#000;font-weight:700>catch</span>(err =&gt; console.error(err));
</code></pre></div><p><strong>ุฑุงู ุญูโูุง:</strong><br>ฑ.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js>[ <span style=color:#0086b3>Promise</span> { <span style=color:#000;font-weight:700>&lt;</span>pending<span style=color:#000;font-weight:700>&gt;</span> }, <span style=color:#0086b3>Promise</span> { <span style=color:#000;font-weight:700>&lt;</span>pending<span style=color:#000;font-weight:700>&gt;</span> }, <span style=color:#0086b3>Promise</span> { <span style=color:#000;font-weight:700>&lt;</span>pending<span style=color:#000;font-weight:700>&gt;</span> }, <span style=color:#0086b3>Promise</span> { <span style=color:#000;font-weight:700>&lt;</span>pending<span style=color:#000;font-weight:700>&gt;</span> } ]
</code></pre></div><p>ฒ.<code>[ 4 ,3 ,2 ,1 ]</code><br>ณ. <code>10</code></p><p>ุงฺฏู ุฎุฑูุฌ ูุฑฺฉุฏูู ุงุฒ
promiseูุง
ฺฉู
<code>map</code>
ุจุฑูฺฏุฑุฏููู ุฑู ฺุงูพ ฺฉูุ ูุจู ฺฉู ูุชุฌูโุง ฺฉู ููุฑุฏ ุงูุชุธุงุฑู ูุฏู:
<code>[ 8 ,6 ,4 ,2 ]</code>.
ุชููุง ูุดฺฉู ุงูู ฺฉู ูุฑฺฉุฏูู ุงุฒ ุงู ููุงุฏุฑ ุชูุณุท
<code>AsyncFunction</code>
ุชู ู
Promise
ุจุณุชูโุจูุฏ ุดุฏู.</p><p>ูพุณ ุงฺฏู ูุฎูุง ููุงุฏุฑุชู ุจฺฏุฑุ ุจุงุฏ ุขุฑุงูโ ุจุฑฺฏุดุช ุฑู ุจู
<code>Promise.all</code>
ูพุงุณ ุจุฏ:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js>main()
  .then(v =&gt; <span style=color:#0086b3>Promise</span>.all(v))
  .then(v =&gt; console.log(v))
  .<span style=color:#000;font-weight:700>catch</span>(err =&gt; console.error(err));
</code></pre></div><p>ุจุฏูู
<code>async/await</code>
ุจุงุฏ ุงูู ููุชุธุฑ ุชููู ุดุฏู
promiseูุง
ููููุฏ ู ุจุนุฏ ุฑู ููุงุฏุฑุดูู
<code>map</code>
ุฑู ุงุฌุฑุง ูฺฉุฑุฏ:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#000;font-weight:700>function</span> main () {
  <span style=color:#000;font-weight:700>return</span> <span style=color:#0086b3>Promise</span>.all([<span style=color:#099>1</span>,<span style=color:#099>2</span>,<span style=color:#099>3</span>,<span style=color:#099>4</span>].map((value) =&gt; asyncThing(value)));
}

main()
  .then(values =&gt; values.map((value) =&gt; value <span style=color:#000;font-weight:700>*</span> <span style=color:#099>2</span>))
  .then(v =&gt; console.log(v))
  .<span style=color:#000;font-weight:700>catch</span>(err =&gt; console.error(err));
</code></pre></div><p><strong>ุฑูุด ุฏูู ฺฉู ูุงุถุญโุชุฑูุ ููุ</strong><br>ุฑูุด ฺฉู ุงุฒ
<code>async/await</code>
ุงุณุชูุงุฏู ูฺฉูู ุฒูุงู ฺฉู ุจุฑุง ูุฑ ููุฏุงุฑ
promise
ูุงุฒู ุชุง ฺฉุงุฑูุง ููฺฏุงู ุทููุงู ุจฺฉู ู ุฏุฑ ุนู ุญุงู ฺฉุงุฑูุง ูุงููฺฏุงู ูู ุทููุงูโุงูุฏุ ูุชููู ุจุฏุฑุฏุช ุจุฎูุฑู.</p><p>ุจุง ุงู ุฑูุดุ ุจู ูุญุถ ุงู ฺฉู ุงููู ููุฏุงุฑ ุฑู ุจุฏุณุช ุจุงุฑุ ูุชูู ูุญุงุณุจุชุด ุฑู ุดุฑูุน ฺฉู ู ูุฌุจูุฑ ูุณ ุจุฑุง ุดุฑูุน ูุญุงุณุจุงุชุช ููุชุธุฑ ุจููโ
Promiseูุง
ุจููู ุชุง ุชฺฉูู ุจุดู. ุงฺฏุฑฺู ุฎุฑูุฌ ููุง ููุงุฏุฑ ุชู
Promiseูุง
ูพฺุฏู ุดุฏูุ ุงูุง ุงู
Promiseูุง
ุฎู ุณุฑุน ุชฺฉูู ูุดู ู ุฏุฑ ููุงุช ฺฉู ูุฑุขูุฏ ุณุฑุนโุชุฑ ุงุฒ ุฒูุงูู ฺฉู ุจุฎูุง ุจู ุทูุฑ ูุชูุงู ุงูุฌุงูุด ุจุฏ.</p><p><strong>ุฏุงุณุชุงู <code>filter</code> ฺูุ ูุทูุฆูุง ู ฺุฒ ุงู ูุณุท ุงุดุชุจุงูู&mldr;</strong><br>ุฎุจุ ุฏุฑุณุช ุญุฏุณ ุฒุฏ: ุงฺฏุฑฺู ููุงุฏุฑ ุจุฑฺฏุดุช ุงุฒ ุงู ูุฑุงุฑู:
<code>[ false, true, false, true ]</code>
ุงูุง ูุฑฺฉุฏููุดูู ุชู ู
Promise
ูพฺุฏู ุดุฏูุ ู ุงุฒ ุงููุฌุง ฺฉู ูุฑ
Promise
ู ููุฏุงุฑ ุงุตุทูุงุญุง
truthy
ูุณุช (ุนู ุฒูุงูู ฺฉู ุจู ุดฺฉู ุจููู ุจุจููุดุ ููุฏุงุฑุด <code>true</code> ูุดู)ุ
ุชูุงู ููุงุฏุฑ ุขุฑุงู ุจุฑูฺฏุฑุฏู ู ูฺฺฉุฏูู ููุชุฑ ููุดู. ูุชุงุณูุงูู ุชููุง ฺฉุงุฑ ฺฉู ุจุฑุง ุฑูุน ุงู ูุดฺฉู ุงุฒ ุฏุณุชุช ุจุฑูุงุฏ ุงูู ฺฉู ุงูู ููุชุธุฑ ุจุด ุชุง ููุงุฏุฑ
Promiseูุง
ุจุฑฺฏุฑุฏู ู ุจุนุฏ ููุชุฑุดูู ฺฉู.</p><p>ูุชุฏ
<code>reduce</code>
ุฎู ุณุฑุฑุงุณุชู. ุงฺฏุฑฺู ุงุฏุช ุจุงุดู ฺฉู ุจุงุฏ ููุฏุงุฑ ุงููู ุฑู ุฏุงุฎู
<code>Promise.resolve</code>
ุจูพฺุ ู ููฺูู ููุฏุงุฑ ูุชุบุฑ ุชุฌูุน ูู ุจู ุตูุฑุช
Promise
ุจุฑูฺฏุฑุฏู ู ุจูุงุจุฑุงู ูุงุฒู ุชุง ุจุฑุงุด ุงุฒ
<code>await</code>
ุงุณุชูุงุฏู ฺฉู.</p><h2 id=ุจุงุฒููุณ-ุงูพูฺฉุดููุง-ุจุฑูพุงู-callback>ุจุงุฒููุณ ุงูพูฺฉุดูโูุง ุจุฑูพุงูโ callback <a href=#%d8%a8%d8%a7%d8%b2%d9%86%d9%88%db%8c%d8%b3%db%8c-%d8%a7%d9%be%d9%84%db%8c%da%a9%db%8c%d8%b4%d9%86%d9%87%d8%a7%db%8c-%d8%a8%d8%b1%d9%be%d8%a7%db%8c%d9%87%db%8c-callback class=anchor>๐</a></h2><p>ุชูุงุจุน
async
ุจู ุทูุฑ ูพุดูุฑุถ ู
<code>Promise</code>
ุจุฑูฺฏุฑุฏูููุ ุจูุงุจุฑุงู ูุชูู ูุฑ ุชุงุจุน ฺฉู ุจุฑูพุงูโ
callback
ูุณุช ุฑู ุฌูุฑ ุจุงุฒููุณ ฺฉู ฺฉู ุงุฒ
Promiseูุง
ุงุณุชูุงุฏู ฺฉูู ู ุณูพุณ ููุฏุงุฑ ุจุงุฒฺฏุดุชุด ุฑู ุจุง
<code>await</code>
ุจฺฏุฑ. ุชู
Node.js
ุจุฑุง ุชุจุฏู ู ุชุงุจุน ุจุฑูพุงูโ
callback
ุจู ู ุชุงุจุน ุจุฑูพุงูโ
Promise
ูุชูู ุงุฒ ุชุงุจุน
<a href=http://2ality.com/2017/05/util-promisify.html target=_blank rel=noopener>util.promisify</a>
ุงุณุชูุงุฏู ฺฉู.</p><h2 id=ุจุงุฒููุณ-ุงูพูฺฉุดููุง-ุจุฑูพุงู-promise>ุจุงุฒููุณ ุงูพูฺฉุดูโูุง ุจุฑูพุงูโ Promise <a href=#%d8%a8%d8%a7%d8%b2%d9%86%d9%88%db%8c%d8%b3%db%8c-%d8%a7%d9%be%d9%84%db%8c%da%a9%db%8c%d8%b4%d9%86%d9%87%d8%a7%db%8c-%d8%a8%d8%b1%d9%be%d8%a7%db%8c%d9%87%db%8c-promise class=anchor>๐</a></h2><p>ุฒูุฌุฑูโูุง ุณุงุฏูโ
<code>then.</code>
ุฑู ุฎู ุณุฑุฑุงุณุช ูุดู ุจุง ุงุณุชูุงุฏู ุงุฒ
<code>async/await</code>
ุจุงุฒููุณ ฺฉุฑุฏ.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#000;font-weight:700>function</span> asyncTask () {
  <span style=color:#000;font-weight:700>return</span> functionA()
    .then((valueA) =&gt; functionB(valueA))
    .then((valueB) =&gt; functionC(valueB))
    .then((valueC) =&gt; functionD(valueC))
    .<span style=color:#000;font-weight:700>catch</span>((err) =&gt; logger.error(err))
}
</code></pre></div><p>ุชุจุฏู ูุดู ุจู:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#000;font-weight:700>async</span> <span style=color:#000;font-weight:700>function</span> asyncTask () {
  <span style=color:#000;font-weight:700>try</span> {
    <span style=color:#000;font-weight:700>const</span> valueA <span style=color:#000;font-weight:700>=</span> <span style=color:#000;font-weight:700>await</span> functionA();
    <span style=color:#000;font-weight:700>const</span> valueB <span style=color:#000;font-weight:700>=</span> <span style=color:#000;font-weight:700>await</span> functionB(valueA);
    <span style=color:#000;font-weight:700>const</span> valueC <span style=color:#000;font-weight:700>=</span> <span style=color:#000;font-weight:700>await</span> functionC(valueB);
    <span style=color:#000;font-weight:700>return</span> <span style=color:#000;font-weight:700>await</span> functionD(valueC);
  } <span style=color:#000;font-weight:700>catch</span> (err) {
    logger.error(err);
  }
}
</code></pre></div><h2 id=ุงูพูฺฉุดููุง-nodejs-ุฑู-ุจุง-asyncawait-ุจุงุฒููุณ-ฺฉู-ุงฺฏู>ุงูพูฺฉุดูโูุง Node.js ุฑู ุจุง <code>async/await</code> ุจุงุฒููุณ ฺฉู ุงฺฏู: <a href=#%d8%a7%d9%be%d9%84%db%8c%da%a9%db%8c%d8%b4%d9%86%d9%87%d8%a7%db%8c-nodejs-%d8%b1%d9%88-%d8%a8%d8%a7-asyncawait-%d8%a8%d8%a7%d8%b2%d9%86%d9%88%db%8c%d8%b3%db%8c-%da%a9%d9%86-%d8%a7%da%af%d9%87 class=anchor>๐</a></h2><ul><li><p>ููุงูู ูุฏู ู ุจุงุญุงู ูุซู ุดุฑุทโูุง
<code>if-else</code>
ู ุญูููโูุง
<code>for/while</code>
ุฑู ุฏูุณ ุฏุงุฑ.</p></li><li><p>ุจุงูุฑ ุฏุงุฑ ฺฉู ุจููฺฉโูุง
<code>try-catch</code>
ุฑุงู ุฏุฑุณุช ุฑุณุฏฺฏ ุจู ุฎุทุงูุงุณุช.</p></li></ul><p>ููููุทูุฑ ฺฉู ุจุงูู ุฏุฏูุ ุงุณุชูุงุฏู ุงุฒ
<code>async/await</code>
ูู ุฎูุงูุง ฺฉุฏูุงุฑู ุจุดุชุฑ ูฺฉูู ู ูู ููุดุชูุดูู ุฑู ุณุงุฏูโุชุฑ ูฺฉูู ู ุฏุฑ ุจุณุงุฑ ุงุฒ ฺฉุงุฑูุง ููุงุณุจโุชุฑ ุงุฒ ุฒูุฌุฑูโูุง
<code>()Promise.then</code>
ูุณุช. ุงูุง ุงฺฏู ุจู ุดูุฑ ู ุงุดุชุงู ฺฉู ุฏุฑ ฺูุฏ ุณุงู ุงุฎุฑ ุจุฑุง ุจุฑูุงููโููุณ ูุงูฺฉุดูุงู ุจูุฌูุฏ ุงููุฏู ุฏฺุงุฑ ุดุฏุ ุดุงุฏ ุจูุชุฑ ุจุงุดู ฺฉู ุงุฒ ุฎุฑ ุงู ูุงุจูุช ุฌุงูุงุงุณฺฉุฑูพุช ุจฺฏุฐุฑ.</p><hr><p>ููุจุน:
<a href=https://blog.risingstack.com/mastering-async-await-in-nodejs/ target=_blank rel=noopener>Rewriting Node.js apps with async/await</a>
ุงุฒ ูุจูุงฺฏ
RisingStack</p></div><div class=tags><a href=http://yavarjs.ir/tags/node.js>node.js</a>
<a href=http://yavarjs.ir/tags/async/await>async/await</a>
<a href=http://yavarjs.ir/tags/promise>promise</a>
<a href=http://yavarjs.ir/tags/javascript>javascript</a>
<a href=http://yavarjs.ir/tags/callback>callback</a>
<a href=http://yavarjs.ir/tags/%DA%A9%D9%85%D8%B1%D8%A8%D9%86%D8%AF-%D8%B3%DB%8C%D8%A7%D9%87>ฺฉูุฑุจูุฏ ุณุงู</a></div><script src=https://utteranc.es/client.js repo=yavarjs/utterances-comments issue-term=pathname theme=github-light crossorigin=anonymous async></script></section></main><footer id=footer><p class=copyright>ูุทุงูุจ ุจุง ุงุดุงุฑู ุจู ุงvar ุจู ุนููุงู ููุจุน ูุงุจู ุงูุชุดุงุฑู.</p><p class=powerby>ูุฏุฑุชโฺฏุฑูุชู ุงุฒ <a href=http://www.gohugo.io/>Hugo</a> ุจุง ุชู <a href=https://github.com/yavarjs/hugo-theme-mini>mini</a></p></footer></body></html>